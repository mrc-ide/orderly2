<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Information about currently running report — orderly_run_info • orderly2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Information about currently running report — orderly_run_info"><meta name="description" content="Fetch information about the actively running report.  This allows
you to reflect information about your report back as part of the
report, for example embedding the current report id, or
information about computed dependencies. This information is in a
slightly different format to orderly version 1.x and does not
(currently) include information about dependencies when run
outside of orderly_run, but this was never reliable
previously."><meta property="og:description" content="Fetch information about the actively running report.  This allows
you to reflect information about your report back as part of the
report, for example embedding the current report id, or
information about computed dependencies. This information is in a
slightly different format to orderly version 1.x and does not
(currently) include information about dependencies when run
outside of orderly_run, but this was never reliable
previously."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">orderly2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.99.81</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/orderly2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">Introduction to orderly2</a></li>
    <li><a class="dropdown-item" href="../articles/dependencies.html">Dependencies between packets</a></li>
    <li><a class="dropdown-item" href="../articles/collaboration.html">Collaborative analysis</a></li>
    <li><a class="dropdown-item" href="../articles/troubleshooting.html">Troubleshooting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/migrating.html">Migrating from orderly (1.x)</a></li>
    <li><a class="dropdown-item" href="../articles/metadata.html">Outpack metadata</a></li>
    <li><a class="dropdown-item" href="../articles/query.html">Orderly query DSL</a></li>
    <li><a class="dropdown-item" href="../articles/plugins.html">Creating plugins</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mrc-ide/orderly2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Information about currently running report</h1>
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/orderly2/blob/main/R/context.R" class="external-link"><code>R/context.R</code></a></small>
      <div class="d-none name"><code>orderly_run_info.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fetch information about the actively running report.  This allows
you to reflect information about your report back as part of the
report, for example embedding the current report id, or
information about computed dependencies. This information is in a
slightly different format to orderly version 1.x and does not
(currently) include information about dependencies when run
outside of <a href="orderly_run.html">orderly_run</a>, but this was never reliable
previously.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orderly_run_info</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with elements</p><ul><li><p><code>name</code>: The name of the current report</p></li>
<li><p><code>id</code>: The id of the current report, <code>NA</code> if running interactively</p></li>
<li><p><code>root</code>: The orderly root path</p></li>
<li><p><code>depends</code>: A data frame with information about the dependencies
(not available interactively)</p><ul><li><p><code>index</code>: an integer sequence along calls to
<code><a href="orderly_dependency.html">orderly_dependency</a></code></p></li>
<li><p><code>name</code>: the name of the dependency</p></li>
<li><p><code>query</code>: the query used to find the dependency</p></li>
<li><p><code>id</code>: the computed id of the included packet</p></li>
<li><p><code>filename</code>: the file used from the packet</p></li>
<li><p><code>as</code>: the filename used locally</p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># An example from the orderly examples</span></span></span>
<span class="r-in"><span><span class="fu"><a href="orderly_example_show.html">orderly_example_show</a></span><span class="op">(</span><span class="st">"run_info"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">src/run_info/run_info.R</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">orderly_dependency</span><span style="color: #D7AF00;">(</span><span style="color: #00AFAF;">"data"</span>, <span style="color: #00AFAF;">"latest"</span>, <span style="font-weight: bold;">c</span><span style="color: #BBBB00;">(</span><span style="color: #00AFAF;">"xy.rds"</span> = <span style="color: #00AFAF;">"data.rds"</span><span style="color: #BBBB00;">)</span><span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> xy <span style="color: #D7AF00;">&lt;-</span> <span style="font-weight: bold;">readRDS</span><span style="color: #D7AF00;">(</span><span style="color: #00AFAF;">"xy.rds"</span><span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> info <span style="color: #D7AF00;">&lt;-</span> <span style="font-weight: bold;">orderly_run_info</span><span style="color: #D7AF00;">()</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">print</span><span style="color: #D7AF00;">(</span>info<span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">orderly_artefact</span><span style="color: #D7AF00;">(</span><span style="color: #00AFAF;">"plot.png"</span>, description = <span style="color: #00AFAF;">"A plot of data"</span><span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">png</span><span style="color: #D7AF00;">(</span><span style="color: #00AFAF;">"plot.png"</span><span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">plot</span><span style="color: #D7AF00;">(</span>xy<span style="color: #D7AF00;">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">dev.off</span><span style="color: #D7AF00;">()</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare to run</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="orderly_example.html">orderly_example</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created orderly root at '/tmp/Rtmp6Hh44x/orderly2_ex_1d3ea1c0420'</span>
<span class="r-in"><span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"data"</span>, root <span class="op">=</span> <span class="va">path</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Starting packet '<span style="color: #0000BB;">data</span>' `20250901-150653-6e581b9e` at 2025-09-01 15:06:53.435557</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished running <span style="color: #0000BB;">data.R</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Finished 20250901-150653-6e581b9e at 2025-09-01 15:06:53.459993 (0.024436 secs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20250901-150653-6e581b9e"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Here, see the printed information from a real running report</span></span></span>
<span class="r-in"><span><span class="fu"><a href="orderly_run.html">orderly_run</a></span><span class="op">(</span><span class="st">"run_info"</span>, root <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Starting packet '<span style="color: #0000BB;">run_info</span>' `20250901-150653-7bdb6d6d` at 2025-09-01 15:06:53.488245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; orderly_dependency("data", "latest", c("xy.rds" = "data.rds"))</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Depending on <span style="color: #0000BB;">data</span> @ `20250901-150653-6e581b9e` (via latest(name == "data"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; xy &lt;- readRDS("xy.rds")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; info &lt;- orderly_run_info()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; print(info)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "run_info"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20250901-150653-7bdb6d6d"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $root</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/Rtmp6Hh44x/orderly2_ex_1d3ea1c0420"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $depends</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   index name                  query                       id    there   here</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1 data latest(name == "data") 20250901-150653-6e581b9e data.rds xy.rds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; orderly_artefact("plot.png", description = "A plot of data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; png("plot.png")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; plot(xy)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; dev.off()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg_record_894944129 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    2 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished running <span style="color: #0000BB;">run_info.R</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Finished 20250901-150653-7bdb6d6d at 2025-09-01 15:06:53.547525 (0.0592804 secs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "20250901-150653-7bdb6d6d"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich FitzJohn, Robert Ashton, Martin Eden, Alex Hill, Wes Hinsley, Mantra Kusumgar, Paul Liétar, James Thompson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

